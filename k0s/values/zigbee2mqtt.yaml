image:
  repository: koenkk/zigbee2mqtt
  tag: latest
  pullPolicy: Always

env:
  TZ: Europe/London
  ZIGBEE2MQTT_CONFIG_MQTT_SERVER: mqtt://mosquitto.mosquitto.svc.cluster.local:1883
  ZIGBEE2MQTT_CONFIG_SERIAL_PORT: tcp://192.168.7.37:6638
  ZIGBEE2MQTT_CONFIG_SERIAL_ADAPTER: zstack
  ZIGBEE2MQTT_CONFIG_FRONTEND_PORT: "8080"

service:
  main:
    ports:
      http:
        port: 8080

persistence:
  data:
    enabled: true
    type: pvc
    storageClass: longhorn
    size: 1Gi
    accessMode: ReadWriteOnce
    mountPath: /app/data

ingressRoute:
  main:
    enabled: true
    entryPoints:
      - websecure
    authentik: true
    routes:
      - match: Host(`zigbee.golden.wales`)
    tls: true

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi
