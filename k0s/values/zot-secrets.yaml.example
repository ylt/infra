# Zot secrets
# Copy to zot-secrets.yaml and fill in OIDC client secret
configFiles:
  config.json: |
    {
      "storage": { "rootDirectory": "/var/lib/registry" },
      "http": {
        "address": "0.0.0.0",
        "port": "5000",
        "externalUrl": "https://zot.golden.wales",
        "auth": {
          "openid": {
            "providers": {
              "oidc": {
                "clientid": "zot",
                "clientsecret": "YOUR_OIDC_CLIENT_SECRET",
                "issuer": "https://auth.golden.wales/application/o/zot-oidc/",
                "scopes": ["openid", "profile", "email"]
              }
            }
          }
        },
        "accessControl": {
          "repositories": {
            "**": {
              "anonymousPolicy": ["read"],
              "defaultPolicy": ["read", "create", "update", "delete"]
            }
          }
        }
      },
      "log": { "level": "info" },
      "extensions": {
        "ui": { "enable": true },
        "search": { "enable": true }
      }
    }
